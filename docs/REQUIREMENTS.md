# STEP1

1. 상품 목록 조회
   MSW를 이용하여 /products API를 모킹하고 상품 목록 데이터를 가져온다.
   상품 목록을 무한스크롤 방식으로 표시한다.
   맨 처음 불러 오는 갯수는 20개다.
   이 후 추가로는 4개씩 불러온다.
2. 상품 정렬 및 필터링
   상품 필터링
   카테고리
   상품 정렬
   낮은 가격 순
   높은 가격 순
3. 상품 장바구니 담기
   사용자가 담기 버튼을 누르면, 장바구니에 추가된다. 이 때 장바구니에 담긴 아이템 '종류' 의 갯수로 숫자를 표시한다.
   장바구니 담기 요청 중 에러가 발생한 경우, 에러 메시지를 사용자에게 알려주는 UI를 표시한다.
   장바구니에서 빼기 버튼을 누르면, 장바구니에서 해당 아이템이 제거된다.

---

1. 핵심 한 줄 정의
   상품 목록을 불러오는 프로그램을 MSW를 이용해 개발하고 API를 이용할 때 발생할 수 있는 여러 상황들에 대한 UI를 제공한다.

2. API

   1. products GET (상품 목록 조회)
      - sort, filter에 대한 기능
      - 예외적인 케이스
        - 빈 배열 반환
        - 서버 에러
   2. cart-items POST (장바구니 아이템 추가)
      - 예외적인 케이스
        - 이미 장바구니에 있는 아이템을 추가하는 경우
   3. cart-items DELETE (장바구니 아이템 삭제)
      - 예외적인 케이스
        - 장바구니에 있는 아이템을 삭제하는 경우

3. 기능 구현
   1. 상품 리스트
   - [x] list, item, select UI 레이아웃
   - [x] useProducts
     - [x] 카테고리 필터링, 가격 순 sort 추가
     - [x] 무한스크롤(fetchNextPage)
     - [x] 로딩, 에러 상태
   - [x] useProducts 테스트
     - [x] msw
       - [x] product GET
   - [x] UI와 hook 통합
   1. 장바구니 아이템 추가/삭제 및 개수 표시
   - [x] header,button, badge UI 레이아웃
     - [x] 로딩, 에러 상태
     - [x] 상품 종류 수
     - [x] UI와 hook 통합

# STEP2

> 핵심 학습 목표: react-query를 이용해 장바구니 api를 다룰 수 있고, 그에 따른 에러 처리를 할 수 있다.
> 핵심 기능: 장바구니 수량을 사용자가 원하는 만큼 동적으로 조절하는 기능을 제공한다.

## 새로 추가된 기능

- 상품 목록에서 '담기' 버튼을 누르면 수량을 조절할 수 있다.

  - UI는 수량 마이너스 버튼, 수량, 수량 플러스 버튼으로 이루어진 요소이다.
  - 수량이 0이 되는 경우 해당 아이템을 장바구니에서 제거하고, 다시 '담기' 버튼을 보여준다.

- 장바구니 아이콘을 클릭하면 장바구니 모달이 등장한다.
  - 모달에서는 장바구니 현황을 확인할 수 있다.
    - 장바구니에 담긴 상품 목록
    - 장바구니에 담긴 상품과 개수에 따른 총 결제 금액
  - 장바구니 모달에서도 상품의 수량을 조절하거나 삭제할 수 있다.

## 리팩토링

- api 호출을 react-query를 사용하도록 변경
  - product api 호출
  - cartItem api 호출
- api 호출 테스트 변경
- 전역 상태 제거
